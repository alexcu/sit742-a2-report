\documentclass[12pt,titlepage]{article}

\usepackage{listings}

\include{preamble}

\author{Alex Cummaudo \texttt{<ca@deakin.edu.au>}\\ Jake Renzella \texttt{<jake.renzella@deakin.edu.au>}\\
Deakin Software and Technology Innovation Laboratory\\School of Information Technology\\Deakin University, Australia}
\title{Hotel TULIP Web Server Data Analysis\\\normalsize{\bfseries Assignment 2 - SIT742 Modern Data Science}}

\begin{document}

\maketitle

\section*{Executive Summary}

This report summarises findings from a data exploration on the Hotel TULIP web server logs, recorded between the periods of August 2014 and August 2015. Each log contains one \textit{request}, or \textit{hit}, that lists fourteen attributes as described in the attached Data Dictionary spreadsheet. Publicly known client IP addresses were extracted from the MaxMind GeoIP2\footnote{See \url{http://dev.maxmind.com/geoip/geoip2/}.} dataset to analyse the location of requests (narrowed down to city). Additionally, user agent strings were parsed to analyse device and browser statistics using the Python \texttt{user-agents} library\footnote{See \url{https://pypi.python.org/pypi/user-agents}.}, thereby extrapolating demographics, usage trends, platform information, server performance, and security statistics from the raw logs provided in the dataset. Further details on the extraction of the data is provided in the source code attached in Appendix~\ref{apx:results}, and an interactive version of this file is published on \href{https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/7364378259770565/3552971541306612/8155742302574378/latest.html}{Databricks}.

\newpage

\tableofcontents\newpage
\listoffigures\newpage
%\listoftables\newpage

\newpage
\section{Key Findings}

A list of key findings in the analysis are as thus:

\begin{itemize}
  \item Foo
\end{itemize}

\newpage
\section{Introduction}

\section{Dataset}

\section{Method}

\subsection{Assumptions Made}

\subsection{Extraction Process}

\subsubsection{IP Address Source Regular Expression}

To differentiate between private site visitors and external visitors, a regular expression was used to filter the private and public IP address ranges. The regular expression is shown below:

\begin{lstlisting}[language=SQL, xleftmargin=2cm]
WHERE l.c_ip REGEXP 
	'(^127\.)|(^10\.) | 
	 (^172\.1[6-9]\.) |
	 (^172\.2[0-9]\.) |
	 (^172\.3[0-1]\.) |
	 (^192\.168\.)'
\end{lstlisting}

Negating this \texttt{WHERE} clause of the regular expression will select only public IP addresses.

\subsection{Data Mining}

\section{Results}
\label{sec:results}

\subsection{IP Request Sources}

\subsubsection{Internal Site Visitors}

\dotfigure{internal_requests}{Directional network graph visualising frequency patterns of internal visitors made on an internal IP range}

\subsubsection{External Site Visitors}

\dotfigure{external_requests}{Directional network graph visualising frequency patterns of external visitors made on a non-internal IP range}

\subsection{Top Three Countries}

\subsubsection{Hong Kong Visitors}

\dotfigure{hk_requests}{Directional network graph visualising frequency patterns of visitors from Hong Kong}

\subsubsection{USA Visitors}

\dotfigure{us_requests}{Directional network graph visualising frequency patterns of visitors from the United States}

\subsubsection{Australian Visitors}

\dotfigure{au_requests}{Directional network graph visualising frequency patterns of visitors from Australia}

\subsection{Platform Categories}

\subsubsection{PC Visitors}

\dotfigure{pc_requests}{Directional network graph visualising frequency patterns of requests made by PCs}

\subsubsection{Smartphone Visitors}

\dotfigure{smartphone_requests}{Directional network graph visualising frequency patterns of requests made on smartphones}

\subsubsection{Tablet Visitors}

\dotfigure{tablet_requests}{Directional network graph visualising frequency patterns of requests made on tablets}

\subsubsection{Bots Visitors}

\dotfigure{bots_requests}{Directional network graph visualising frequency patterns of requests made by bots}

\newpage
\appendix

\section{Additional Tables}

Below are tables of frequency pattern results for each section identified in Section~\ref{sec:results}.

\csvtable{csv/internal_requests.csv}{Internal Request Frequency Patterns}{tbl:internal_requests}

\csvtable{csv/external_requests.csv}{External Request Frequency Patterns}{tbl:external_requests}

\csvtable{csv/hk_requests.csv}{Hong Kong Frequency Patterns}{tbl:hk_requests}

\csvtable{csv/us_requests.csv}{USA Request Frequency Patterns}{tbl:us_requests}

\csvtable{csv/au_requests.csv}{Australian Request Frequency Patterns}{tbl:au_requests}

\csvtable{csv/pc_requests.csv}{PC Request Frequency Patterns}{tbl:pc_requests}

\csvtable{csv/tablet_requests.csv}{Tablet Request Frequency Patterns}{tbl:tablet_requests}

\csvtable{csv/smartphone_requests.csv}{Smartphone Request Frequency Patterns}{tbl:smartphone_requests}

\csvtable{csv/bots_requests.csv}{Bots Request Frequency Patterns}{tbl:bots_requests}

\clearpage


\section{Extrapolation Results}
\label{apx:results}

Attached on the following pages are the results from Databricks. You may also interact with this online on \href{https://databricks-prod-cloudfront.cloud.databricks.com/public/4027ec902e239c93eaaa8714f173bcfc/7364378259770565/3552971541306612/8155742302574378/latest.html}{Databricks}.


\end{document}
